@startuml GT-1.1 Activity Diagram
!theme plain
skinparam activityFontSize 12

title GT-1.1: Activity Diagram - Tạo Gói thầu mới

start

:Người dùng truy cập trang tạo gói thầu;

:Hiển thị form tạo gói thầu mới;

:Người dùng nhập thông tin cơ bản;

:Validation thông tin cơ bản;

if (Thông tin cơ bản hợp lệ?) then (Không)
    :Hiển thị lỗi validation;
    :Yêu cầu sửa lỗi;
else (OK)
    :Hệ thống tự động sinh mã gói thầu;
    :Người dùng nhập thông tin chi tiết (tùy chọn);
    :Người dùng chọn lưu nháp hoặc hoàn thành;
    
    if (Lưu nháp?) then (Có)
        :Lưu gói thầu với trạng thái "draft";
        :Hiển thị thông báo "Đã lưu nháp";
    else (Hoàn thành)
        :Hiển thị preview thông tin gói thầu;
        :Người dùng xác nhận thông tin;
        
        if (Xác nhận thông tin?) then (Có)
            :Lưu gói thầu vào database;
            :Cập nhật trạng thái "created";
            :Tích hợp với dự án liên quan;
            :Link thông tin từ Bitrix;
            :Tự động triển khai workflow;
            :Gửi thông báo thành công;
            :Chuyển đến trang chi tiết gói thầu;
        else (Không)
            :Quay lại form chỉnh sửa;
        endif
    endif
endif

stop

@enduml
